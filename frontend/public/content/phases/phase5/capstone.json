{
  "id": "phase5-topic6",
  "slug": "capstone",
  "name": "DevOps Capstone Project",
  "description": "Now that you've learned the fundamentals of DevOps, it's time to apply these practices to the Journal API app you built in Phase 2 and deployed in Phase 3. In this capstone, you'll containerize the app, automate its deployment, manage infrastructure as code, set up monitoring, and orchestrate containers with Kubernetes—demonstrating your end-to-end DevOps skills.",
  "short_description": "Containerize your app with Docker, deploy to Kubernetes, automate with CI/CD, and monitor with Prometheus/Grafana.",
  "order": 6,
  "is_capstone": true,
  "learning_steps": [
    {
      "order": 1,
      "text": "Step 1: Containerize the Application",
      "action": "Step 1: Containerize the Application",
      "url": null,
      "description": "• Write a `Dockerfile` in the root of your repository\n• Build and run the container locally to verify it works\n• Ensure LLM API credentials are passed via environment variables (not baked into image)\n• Push your image to a public container registry:\n  - Docker Hub: `docker.io/yourusername/journal-api:latest`\n  - GitHub Container Registry: `ghcr.io/yourusername/journal-api:latest`"
    },
    {
      "order": 2,
      "text": "Step 2: Infrastructure as Code",
      "action": "Step 2: Infrastructure as Code",
      "url": null,
      "description": "• Create an `infra/` directory in your repository\n• Write Terraform configuration files:\n  - `infra/main.tf` - Main resource definitions\n  - `infra/variables.tf` - Variable declarations\n  - `infra/outputs.tf` - Output values (optional)\n• Define and provision:\n  - Compute resources (container services)\n  - Networking (VPC, subnets, security groups)\n  - Database (PostgreSQL)"
    },
    {
      "order": 3,
      "text": "Step 3: CI/CD Pipeline",
      "action": "Step 3: CI/CD Pipeline",
      "url": null,
      "description": "• Create a `.github/workflows/` directory\n• Set up a GitHub Actions workflow that:\n  - Builds and tests your app on every commit\n  - Builds and pushes your Docker image to a registry\n  - Deploys your app automatically to your cloud environment\n• Make sure at least one workflow run completes successfully"
    },
    {
      "order": 4,
      "text": "Step 4: Container Orchestration",
      "action": "Step 4: Container Orchestration with Kubernetes",
      "url": null,
      "description": "• Create a `k8s/` directory in your repository\n• Write Kubernetes manifests:\n  - `k8s/deployment.yaml` - Deployment for your app\n  - `k8s/service.yaml` - Service to expose your app\n  - `k8s/configmap.yaml` - ConfigMap for configuration (optional)\n  - `k8s/secret.yaml` - Secret for sensitive data (optional)\n• Deploy to a local cluster (Minikube/Kind) or managed service (EKS, AKS, GKE)\n• (Optional) Use Helm to package and deploy your app"
    },
    {
      "order": 6,
      "text": "Step 5: Monitoring & Observability",
      "action": "Step 5: Monitoring & Observability",
      "url": null,
      "description": "• Deploy Prometheus and Grafana\n• Instrument your FastAPI app to expose metrics\n• Track LLM API calls: latency, error rate, token usage for /analyze endpoint\n• Configure Prometheus to scrape your app's metrics endpoint\n• Create a Grafana dashboard for key metrics"
    },
    {
      "order": 6,
      "text": "Step 6: Documentation",
      "action": "Step 6: Documentation",
      "url": null,
      "description": "• Document your setup and deployment process in README.md\n• Include diagrams or screenshots of:\n  - CI/CD pipeline\n  - Kubernetes setup\n  - Monitoring dashboards"
    },
    {
      "order": 7,
      "text": "Required Project Structure",
      "action": "Required Project Structure:",
      "url": null,
      "description": "Your repository must have this structure for verification:",
      "code": "/journal-api\n  ├── Dockerfile              # Container definition\n  ├── .github/\n  │   └── workflows/           # CI/CD pipeline configs\n  │       └── *.yml\n  ├── infra/                   # Terraform IaC configs\n  │   ├── main.tf\n  │   └── variables.tf\n  ├── k8s/                     # Kubernetes manifests\n  │   ├── deployment.yaml\n  │   └── service.yaml\n  ├── app/                     # FastAPI app code\n  └── README.md"
    },
    {
      "order": 8,
      "text": "Testing & Validation",
      "action": "Testing & Validation:",
      "url": null,
      "description": "Verify your deployment:\n\n• Make a code change and push to your repo—verify the pipeline builds, tests, and deploys\n• Access your deployed app and confirm it works with the database\n• Visit Grafana and confirm you see live metrics from your app\n• Use `kubectl` to verify your app and database are running in the cluster"
    },
    {
      "order": 9,
      "text": "Next Steps",
      "action": "Next Steps:",
      "url": null,
      "description": "Once you've completed this capstone, you'll have demonstrated practical DevOps skills by taking an app from code to production with automation, infrastructure as code, container orchestration, and monitoring. This gives you a strong portfolio project to showcase for job applications and discuss during interviews!"
    }
  ]
}
