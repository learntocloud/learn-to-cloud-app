id: phase4-topic5
slug: database-deployment
name: Database Deployment & Configuration
description: Learn to deploy and configure PostgreSQL databases in the cloud. This topic covers the fundamentals of relational database deployment, including architecture, installation, and secure remote access configuration. It builds on Phase 3 database fundamentals and focuses on cloud-specific deployment and network hardening.
order: 5
learning_objectives:
- id: database-deployment-postgres-basics
  text: Understand PostgreSQL deployment fundamentals in cloud environments.
  order: 1
- id: database-deployment-secure-access
  text: Configure database access controls for private, least-exposed connectivity.
  order: 2
- id: database-deployment-operational-validation
  text: Validate secure application-to-database connectivity in a realistic deployment pattern.
  order: 3
learning_steps:
- order: 1
  action: 'Read:'
  description: Review your provider's PostgreSQL options (managed services vs self-hosted on VMs) and choose the model you'll use for this topic.
  options:
  - provider: azure
    title: Azure PostgreSQL Deployment Options Overview
    url: https://learn.microsoft.com/en-us/azure/postgresql/configure-maintain/overview-postgres-choose-server-options
    description: Review PostgreSQL offerings on Azure and decide between managed and VM-hosted patterns.
  - provider: aws
    title: AWS PostgreSQL Deployment Options Overview
    url: https://aws.amazon.com/postgresql/
    description: Compare PostgreSQL options on AWS including managed and self-managed approaches.
  - provider: gcp
    title: Google Cloud PostgreSQL Deployment Options Overview
    url: https://cloud.google.com/postgresql
    description: Understand PostgreSQL options on Google Cloud and choose the right deployment path.
  title: Compare PostgreSQL deployment options by provider
  id: phase4-topic5-read-compare-postgresql-deployment-options
- order: 2
  action: 'Practice:'
  description: Deploy a VM in a private subnet on your cloud provider and install PostgreSQL. Use provider networking guidance plus the PostgreSQL Linux packages docs to complete the setup.
  options:
  - provider: azure
    title: Azure Network Security Tutorial (subnet + NSG)
    url: https://learn.microsoft.com/en-us/azure/virtual-network/tutorial-filter-network-traffic
    description: Build a VNet/subnet-secured VM pattern you can adapt for a private PostgreSQL host.
  - provider: aws
    title: Amazon VPC with Public and Private Subnets
    url: https://docs.aws.amazon.com/vpc/latest/userguide/vpc-example-private-subnets-nat.html
    description: Follow the AWS reference architecture for private-subnet workloads before installing PostgreSQL.
  - provider: gcp
    title: Create an Instance in a Specific Subnet
    url: https://cloud.google.com/compute/docs/instances/create-vm-specific-subnet
    description: Launch a VM in your chosen subnet and use no external IP for private-only database hosting.
  title: Deploy a VM in a private subnet and install PostgreSQL
  id: phase4-topic5-practice-deploy-a-vm-in
- order: 3
  action: 'Practice:'
  description: Edit pg_hba.conf to allow connections only from your API server's IP range. Create database users with appropriate permissions.
  url: https://www.postgresql.org/docs/current/auth-pg-hba-conf.html
  title: Configure pg_hba.conf for secure remote access
  id: phase4-topic5-practice-configure-pghbaconf-for-secure
- order: 4
  action: 'Practice:'
  description: Test that your API server (in the public subnet) can connect to the database. Use your secure admin access path (for example Bastion/SSM/IAP) to validate from inside the network, and verify the database is NOT accessible from the internet.
  options:
  - provider: azure
    title: Connect to Linux VM via Azure Bastion
    url: https://learn.microsoft.com/en-us/azure/bastion/bastion-connect-vm-ssh-linux
    description: Validate private VM administration without exposing SSH publicly.
  - provider: aws
    title: Connect to EC2 with Session Manager
    url: https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/connect-with-systems-manager-session-manager.html
    description: Verify access to private instances without opening inbound SSH to the internet.
  - provider: gcp
    title: Using IAP for TCP Forwarding
    url: https://cloud.google.com/iap/docs/using-tcp-forwarding
    description: Test secure admin connectivity to VMs that do not have external IP addresses.
  title: Verify database connectivity and security
  id: phase4-topic5-practice-verify-database-connectivity-and
