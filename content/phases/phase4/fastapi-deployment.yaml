id: phase4-topic6
slug: fastapi-deployment
name: FastAPI Deployment & API Hosting
description: With your prior knowledge of FastAPI from the previous phases, you will now focus on deploying that FastAPI application
  on a cloud-based VM. This topic covers the practical aspects of hosting web applications in the cloud.
order: 6
is_capstone: false
learning_steps:
- order: 1
  text: Learn FastAPI deployment on your cloud provider
  action: Learn FastAPI deployment on your cloud provider
  description: 'Each cloud provider has slightly different approaches. Follow the guide for your chosen platform:'
  options:
  - provider: aws
    title: Deploy Python App on AWS EC2
    url: https://docs.aws.amazon.com/elasticbeanstalk/latest/dg/create-deploy-python-apps.html
    description: AWS guide for deploying Python web applications
  - provider: azure
    title: Deploy Python App to Azure VM
    url: https://learn.microsoft.com/en-us/azure/developer/python/configure-python-web-app-local-environment
    description: Microsoft Learn guide for deploying Python apps to Azure
  - provider: gcp
    title: Deploy Python App on Google Compute Engine
    url: https://cloud.google.com/python/docs/getting-started
    description: Google Cloud guide for deploying Python applications
- order: 2
  text: Environment Variables
  action: Environment Variables
  description: 'Never hardcode secrets! Store sensitive configuration like database credentials and API keys in environment
    variables:'
  code: '# On Linux, add to /etc/environment or use systemd

    export DATABASE_URL="postgresql://user:pass@db-server:5432/journal"

    export LLM_API_KEY="your-api-key"


    # In your FastAPI app

    import os

    db_url = os.getenv("DATABASE_URL")

    api_key = os.getenv("LLM_API_KEY")'
- order: 3
  text: Configure security groups for HTTP traffic
  action: 'Hands-on:'
  description: Set up security group rules to allow inbound HTTP (port 80) or HTTPS (port 443) traffic to your API. Restrict
    SSH access to your IP only, and make sure port 5432 (PostgreSQL) is NOT exposed to the internet.
- order: 4
  text: Learn how to run FastAPI in production
  action: 'Learn:'
  title: Uvicorn Deployment Guide
  url: https://www.uvicorn.org/deployment/
  description: Use a process manager to keep your app running in production.
  code: '# Install uvicorn with standard extras

    pip install ''uvicorn[standard]''


    # Run with multiple workers

    uvicorn main:app --host 0.0.0.0 --port 8000 --workers 4


    # Or use a systemd service for persistence

    # Create /etc/systemd/system/fastapi.service'
- order: 5
  text: Set up HTTPS with a reverse proxy
  action: 'Learn:'
  title: HTTPS with Caddy or Nginx
  description: 'Your capstone requires HTTPS. The simplest approach is to put a reverse proxy in front of uvicorn that handles
    TLS automatically. Caddy auto-provisions Let''s Encrypt certificates with zero configuration. Alternatively, use Nginx
    with Certbot.'
  secondary_links:
  - text: Caddy Quick-start
    url: https://caddyserver.com/docs/quick-starts/reverse-proxy
  - text: Certbot (Let's Encrypt) for Nginx
    url: https://certbot.eff.org/
- order: 6
  text: Deploy a VM in the public subnet and install dependencies
  action: 'Hands-on:'
  description: Deploy a VM in the public subnet. Install Python and your application's dependencies on it.
- order: 7
  text: Clone your app and configure environment variables
  action: 'Hands-on:'
  description: Clone your FastAPI application code onto the VM. Set database credentials and API keys as environment variables
    â€” never hardcode secrets.
- order: 8
  text: Start the application and verify it works
  action: 'Hands-on:'
  description: Start your FastAPI app with uvicorn and verify the API is accessible from the internet by visiting the /docs
    endpoint in your browser.
