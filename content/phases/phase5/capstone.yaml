id: phase5-topic6
slug: capstone
name: DevOps Capstone Project
description: Now that you've learned the fundamentals of DevOps, it's time to apply these practices to the Journal API app
  you built in Phase 2 and deployed in Phase 3. In this capstone, you'll containerize the app, automate its deployment, manage
  infrastructure as code, set up monitoring, and orchestrate containers with Kubernetes—demonstrating your end-to-end DevOps
  skills.
short_description: Containerize your app with Docker, deploy to Kubernetes, automate with CI/CD, and monitor with Prometheus/Grafana.
order: 6
is_capstone: true
learning_steps:
- order: 1
  text: Containerize the Application
  action: Containerize the Application
  description: Write a Dockerfile at the root of your repository that packages your Journal API into a container image. Build
    and test it locally before pushing to a registry.
  checklist:
  - Write a `Dockerfile` at the repository root
  - Use a `FROM` instruction to specify a base image (e.g., `python:3.12-slim`)
  - Use `COPY` or `ADD` to include your application code
  - Use `CMD` or `ENTRYPOINT` to start your application
  - Use `EXPOSE` to declare the port your app listens on
  - Pass LLM API credentials via environment variables (not baked into the image)
  - Build and run the container locally to verify it works
  - Push your image to a public registry (Docker Hub or GitHub Container Registry)
- order: 2
  text: Infrastructure as Code
  action: Infrastructure as Code (Terraform)
  description: Create Terraform configuration files in an `infra/` directory to define and provision your cloud infrastructure.
  checklist:
  - Create an `infra/` directory in your repository
  - Add a `provider` block specifying your cloud provider (e.g., `azurerm`, `aws`, `google`)
  - Define at least one `resource` block for your infrastructure
  - Create `infra/variables.tf` with input variable declarations
  - Create `infra/outputs.tf` to expose key values (optional but recommended)
  - Define compute resources (container services), networking (VPC, subnets, security groups), and database (PostgreSQL)
- order: 3
  text: CI/CD Pipeline
  action: CI/CD Pipeline (GitHub Actions)
  description: Set up a GitHub Actions workflow in `.github/workflows/` that automatically builds, tests, and deploys your
    application on every push.
  checklist:
  - Create a `.github/workflows/` directory with at least one workflow YAML file
  - Configure a trigger on `push` or `pull_request` events
  - Define at least one job with meaningful steps
  - Include a build or test step
  - Include a deploy or publish step (e.g., Docker build and push to registry)
  - Verify at least one workflow run completes successfully
- order: 4
  text: Container Orchestration
  action: Container Orchestration (Kubernetes)
  description: Write Kubernetes manifests in a `k8s/` directory to deploy and expose your containerized application.
  checklist:
  - Create a `k8s/` directory in your repository
  - 'Write a Deployment manifest (`kind: Deployment`) referencing your container image'
  - 'Write a Service manifest (`kind: Service`) to expose your app'
  - Define resource limits or requests for your containers
  - Add a ConfigMap for non-sensitive configuration (optional)
  - Add a Secret for sensitive data (optional)
  - Deploy to a local cluster (Minikube/Kind) or managed service (EKS, AKS, GKE)
- order: 5
  text: Monitoring & Observability
  action: Monitoring & Observability
  description: Set up monitoring to track your application's health and performance. This step is not auto-verified but is
    essential for production readiness.
  checklist:
  - Deploy Prometheus and Grafana
  - Instrument your FastAPI app to expose a metrics endpoint
  - 'Track LLM API calls: latency, error rate, and token usage for /analyze endpoint'
  - Configure Prometheus to scrape your app's metrics endpoint
  - Create a Grafana dashboard for key metrics
- order: 6
  text: Documentation
  action: Documentation
  description: Document your setup and deployment process so others can understand and reproduce your work. This step is not
    auto-verified but strengthens your portfolio.
  checklist:
  - Document your setup and deployment process in `README.md`
  - Include diagrams or screenshots of your CI/CD pipeline
  - Include diagrams or screenshots of your Kubernetes setup
  - Include diagrams or screenshots of your monitoring dashboards
- order: 7
  text: Required Project Structure
  action: Required Project Structure
  description: Your repository must include these directories and files for auto-verification. Steps 1–4 are verified automatically
    when you submit your repo URL.
  code: "your-journal-starter/\n  ├── Dockerfile              # Step 1: Container definition\n  ├── .github/\n  │   └── workflows/\
    \          # Step 3: CI/CD pipeline configs\n  │       └── *.yml\n  ├── infra/                   # Step 2: Terraform IaC\
    \ configs\n  │   ├── main.tf\n  │   └── variables.tf\n  ├── k8s/                     # Step 4: Kubernetes manifests\n\
    \  │   ├── deployment.yaml\n  │   └── service.yaml\n  ├── app/                     # Your FastAPI app code\n  └── README.md\
    \                # Step 6: Documentation"
- order: 8
  text: Share your project
  action: 'Share:'
  title: Share Your Progress
  description: When you've completed the capstone, push your work to GitHub! This becomes part of your portfolio. Consider
    sharing it on LinkedIn or the Learn to Cloud community Discord to get feedback and celebrate your progress.
