{% extends "base.html" %}
{% block title %}Curriculum - Learn to Cloud{% endblock %}
{% block description %}Explore the full Learn to Cloud curriculum — 7 phases covering Linux, networking, programming, cloud deployment, DevOps, and security.{% endblock %}

{% block content %}
<div class="mb-8">
    <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Curriculum</h1>
    <p class="text-gray-600 dark:text-gray-400 mt-2">
        Everything you'll learn on your path to cloud computing, from zero to job-ready.
    </p>
</div>

<div class="space-y-6">
    {% for phase in phases %}
    <div x-data="{ open: false }" class="rounded-lg border border-gray-200 dark:border-gray-700">
        <button
            @click="open = !open"
            class="w-full flex items-center justify-between p-4 text-left cursor-pointer"
            :aria-expanded="open"
        >
            <div>
                <h2 class="text-lg font-semibold text-gray-900 dark:text-white">
                    <span class="text-gray-400 dark:text-gray-500 font-normal">Phase {{ phase.order }}</span>
                    {{ phase.name }}
                </h2>
                <p class="text-base text-gray-500 dark:text-gray-400 mt-0.5">
                    {{ phase.short_description | default(phase.description) }}
                </p>
            </div>
            <svg
                class="w-5 h-5 text-gray-400 flex-shrink-0 ml-4 transition-transform"
                :class="{ 'rotate-180': open }"
                fill="none" stroke="currentColor" viewBox="0 0 24 24"
            >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
            </svg>
        </button>

        <div x-show="open" x-collapse x-cloak>
            <div class="border-t border-gray-200 dark:border-gray-700 px-4 pb-4 pt-3">
                <ul class="space-y-2">
                    {% for topic in phase.topics %}
                    <li class="flex items-center gap-2 text-base">
                        {% if topic.is_capstone %}
                        <span class="text-yellow-500 flex-shrink-0">⭐</span>
                        {% else %}
                        <span class="text-gray-300 dark:text-gray-600 flex-shrink-0">•</span>
                        {% endif %}
                        <span class="text-gray-700 dark:text-gray-300">{{ topic.name }}</span>
                    </li>
                    {% endfor %}
                </ul>

                {% if phase.badge %}
                <div class="mt-3 pt-3 border-t border-gray-100 dark:border-gray-700 flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400">
                    <span>{{ phase.badge.icon }}</span>
                    <span>Earn the <strong class="text-gray-700 dark:text-gray-300">{{ phase.badge.name }}</strong> badge</span>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    {% endfor %}
</div>

{% if not user %}
<div class="mt-10 text-center">
    <p class="text-gray-600 dark:text-gray-400 mb-4">Ready to start learning?</p>
    <a href="/auth/login" hx-boost="false" class="inline-flex items-center gap-2 rounded-md bg-blue-600 px-5 py-2.5 text-sm font-semibold text-white shadow-xs hover:bg-blue-500">
        Sign in to get started →
    </a>
</div>
{% endif %}
{% endblock %}
